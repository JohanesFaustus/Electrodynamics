\documentclass[../../../main.tex]{subfiles}
\begin{document}
A generic electromagnetic field is the superposition of many  single frequency monochromatic electromagnetic waves.
Calling $\omega_k$ the angular frequency of the monochromatic wave with wavenumber $\mathbf{k}$, the total energy $H$ of the electromagnetic field is
\begin{equation*}
  H =  \int d^3 \mathbf{r} \left( \frac{\epsilon_0}{2} \mathbf{E}^2 + \frac{1}{2\mu_0} \mathbf{B}^2 \right)                                                                        \\
\end{equation*}
or the semi-classical version
\begin{equation*}
  H = \sum_{\mathbf{k},s} \hbar \omega_k n_{\mathbf{k}s}
\end{equation*}
where $n_{\mathbf{k}s}$ is the number of photons with wavevector $\mathbf{k}$ and polarization $s$.
Taking into account the second quantization of the field
\begin{equation*}
  \hat{H }=\sum_{\mathbf{k}s} \hbar \omega_k \left( \hat{N }_{\mathbf{k} s }+ \frac{1 }{2} \right)
\end{equation*}
with $\hat{N}_{\mathbf{k}s}$ is the quantum number operator
\begin{align*}
  \hat{N}_{\mathbf{k},s} \ket{\dots n_{\mathbf{k}s} \dots}= n_{\mathbf{k}s} \ket{\dots n_{\mathbf{k}s} \dots}
\end{align*}

In classical electrodynamics, the electromagnetic wave can be written in terms of a scalar potential $\phi(\mathbf{r}, t)$ and vector potential $\mathbf{A}(\mathbf{r},t)$
\begin{equation*}
  E = -\nabla \phi - \frac{\partial \mathbf{A}}{\partial t},\qquad
  B = \nabla \land \mathbf{A}
\end{equation*}
This field is of course continuous.
Quantum field treatment however state that the field is quantized with annihilation and creation operator association with it
\begin{align*}
  \hat{\mathbf{E}}(\mathbf{r}, t) & =  i \sum_{\mathbf{k},s} \sqrt{\frac{\hbar \omega_k}{2 \epsilon_0 V}} \left[ \hat{a}_{\mathbf{k}s} e^{i(\mathbf{k} \cdot \mathbf{r} - \omega_k t)} - \hat{a}_{\mathbf{k}s}^{\dagger} e^{-i(\mathbf{k} \cdot \mathbf{r} - \omega_k t)} \right] \epsilon_{\mathbf{k}s}                                        \\
  \hat{\mathbf{B}}(\mathbf{r}, t) & =  \sum_{\mathbf{k},s} \sqrt{\frac{\hbar}{2 \epsilon_0 \omega_k V}} \left[ \hat{a}_{\mathbf{k}s} e^{i(\mathbf{k} \cdot \mathbf{r} - \omega_k t)} - \hat{a}_{\mathbf{k}s}^{\dagger} e^{-i(\mathbf{k} \cdot \mathbf{r} - \omega_k t)} \right] i \frac{\mathbf{k}}{|\mathbf{k}|} \wedge \epsilon_{\mathbf{k}s}
\end{align*}
As with other quantum field theory, photon is the excitation of the quantum electromagnetic field.
Aside, my derivation yield
\begin{equation*}
  \hat{\mathbf{B}}(\mathbf{r}, t) =  \sum_{\mathbf{k},s} \sqrt{\frac{\hbar \omega_k}{2 V} \mu_0} \left[ \hat{a}_{\mathbf{k}s} e^{i(\mathbf{k} \cdot \mathbf{r} - \omega_k t)} - \hat{a}_{\mathbf{k}s}^{\dagger} e^{-i(\mathbf{k} \cdot \mathbf{r} - \omega_k t)} \right] i \mathbf{\hat{k}} \times \epsilon_{\mathbf{k}s}
\end{equation*}
Different constant??

\subsection{The Second Quantization of Light}
The first quantization of light refer to the quantization of electromagnetic energy as photon, while the second quantization of light refer to the quantization of the electromagnetic waves.
This can be achieved in the following steps
\begin{enumerate}
  \item Use Coulomb gauge
  \item Decompose the field
  \item Hamiltonian formulation
  \item Promote the variables to operators
\end{enumerate}

\subsubsection{Coulomb gauge.}
Gauge transformation can be applied to the electromagnetic potential since they do not define electromagnetic wave uniquely
\begin{equation*}
  \phi \rightarrow \phi' = \phi + \frac{\partial }{\partial t} \Lambda(\mathbf{r },t)\qquad
  A \rightarrow A' = A - \nabla \Lambda(\mathbf{r },t)
\end{equation*}
We then use the Coulomb gauge such that
\begin{equation*}
  \nabla  \cdot \mathbf{A } =0
\end{equation*}
Physically, the Coulomb gauge constant $\mathbf{A}$ such that only the transversal (perpendicular) to the wave vector $\mathbf{k}$ survive.
This can be seen by considering a complex monochromatic plane wave $\mathbf{A}(\mathbf{r},t)=\mathbf{A}_0 e^{i(\mathbf{k}\cdot \mathbf{r }-\omega t)}$.
The Coulomb gauge gives
\begin{equation*}
  \nabla  \cdot \mathbf{A}=  \nabla \cdot  \mathbf{A}_0  e^{i(k \cdot \mathbf{r} - \omega t)} = \mathbf{A}_0 \cdot (i \mathbf{k}) e^{i(k \cdot \mathbf{r} - \omega t)} = \mathbf{k } \cdot \mathbf{A} = 0
\end{equation*}
From the Coulomb gauge and Gauss law $\nabla \cdot \mathbf{E}=\rho/\epsilon_0$ in vacuum, we also obtain the Laplace equation by applying gradient into it
\begin{equation*}
  \nabla ^2 \phi = 0
\end{equation*}
Imposing that the scalar potential is zero at inﬁnity, this Laplace’s equation has the unique solution
\begin{equation*}
  \phi(\mathbf{r},t)=0
\end{equation*}
and consequently
\begin{equation*}
  \mathbf{E} = - \frac{\partial \mathbf{A}}{\partial t} \qquad \mathbf{B} = \nabla \land \mathbf{A}
\end{equation*}

\subsubsection{Quantum electromagnetic field.}
We can expand the vector potential $\mathbf{A}(r, t)$ as a Fourier series of monochromatic plane waves.
\begin{equation*}
  \mathbf{A}(\mathbf{r}, t) = \sum_{\mathbf{k},s} A_{\mathbf{k} s}(t) \frac{e^{i \mathbf{k} \cdot \mathbf{r}}}{\sqrt{V}} \boldsymbol{\epsilon}_{\mathbf{k} s}
\end{equation*}
It follows from  classical electrodynamics that the vector potential is a real vector field $\mathbf{A} = \mathbf{A}^*$.
Choosing real polarization vectors $\boldsymbol{\epsilon}_{\mathbf{k} s}=\epsilon ^*_{\mathbf{k} s}$
\begin{equation*}
  \mathbf{A}(\mathbf{r},t) = \sum_{\mathbf{k},s} A^*_{\mathbf{k} s}(t) \boldsymbol{\epsilon}_{\mathbf{k} s} \frac{e^{-i \mathbf{k} \cdot \mathbf{r}}}{\sqrt{V}}
  = \sum_{\mathbf{k},s} A^*_{-\mathbf{k} s}(t) \epsilon_{-\mathbf{k} s} \frac{e^{i \mathbf{text} \cdot \mathbf{r}}}{\sqrt{V}}
\end{equation*}
where we relabel $\mathbf{k} \rightarrow -\mathbf{k}$.
Consequently $A_{-\mathbf{k},s}=A^*_{\mathbf{k},s}$.
Thus, we can sum the series over independent $\mathbf{k}$
\begin{equation*}
  \mathbf{A}(\mathbf{r}, t) = \sum_{\mathbf{k},s} \left[ A_{\mathbf{k}s}(t) \frac{e^{i\mathbf{k} \cdot \mathbf{r}}}{\sqrt{V}} + A_{\mathbf{k}s}^*(t) \frac{e^{-i\mathbf{k} \cdot \mathbf{r}}}{\sqrt{V}} \right] \epsilon_{\mathbf{k}s}
\end{equation*}
where the complex plane waves $e^{i \mathbf{k } \cdot \mathbf{r}}$ normalized in a volume $V$ are the basis functions of the expansion, and $\epsilon_{\mathbf{k}s}$ are mutually orthogonal real unit vectors of polarization which are also orthogonal to $\mathbf{k}$.
Note that the first representation count over all possible $\mathbf{k}$: both $\mathbf{k}$ and $-\mathbf{k}$ are included; meanwhile the second only the representation $\left\{ \mathbf{k},-\mathbf{k} \right\} $ are included.

With this, we can write the  quantized electric field
\begin{equation*}
  \mathbf{E}(\mathbf{r}, t) = -\sum_{\mathbf{k},s} \left[ \dot{A}_{\mathbf{k}s}(t)\frac{e^{i \mathbf{\mathbf{k}} \cdot \mathbf{r}}}{\sqrt{V}} + \dot{A}_{\mathbf{k}s}^*(t)\frac{e^{-i \mathbf{\mathbf{k}} \cdot \mathbf{r}}}{\sqrt{V}} \right] \epsilon_{\mathbf{k}s}
\end{equation*}
and magnetic field
\begin{align*}
  \mathbf B(\mathbf r,t)
   & = \nabla \times \mathbf A(\mathbf r,t) \\
   & = \sum_{\mathbf k,s}
  \left[
    A_{\mathbf k s}(t)\frac{\nabla \times \left(e^{i\mathbf k\cdot\mathbf r}\boldsymbol{\epsilon}_{\mathbf k s}\right)}{\sqrt V}
    + A_{\mathbf k s}^*(t)\frac{\nabla \times \left(e^{-i\mathbf k\cdot\mathbf r}\boldsymbol{\epsilon}_{\mathbf k s}\right)}{\sqrt V}
  \right]                                   \\
   & = \sum_{\mathbf k,s}
  \left[
    A_{\mathbf k s}(t)\frac{(\nabla e^{i\mathbf k\cdot\mathbf r})\times\boldsymbol{\epsilon}_{\mathbf k s}}{\sqrt V}
    + A_{\mathbf k s}^*(t)\frac{(\nabla e^{-i\mathbf k\cdot\mathbf r})\times\boldsymbol{\epsilon}_{\mathbf k s}}{\sqrt V}
  \right]                                   \\
   & = \sum_{\mathbf k,s}
  \left[
    A_{\mathbf k s}(t)\frac{(i\mathbf k)e^{i\mathbf k\cdot\mathbf r}\times\boldsymbol{\epsilon}_{\mathbf k s}}{\sqrt V}
    + A_{\mathbf k s}^*(t)\frac{(-i\mathbf k)e^{-i\mathbf k\cdot\mathbf r}\times\boldsymbol{\epsilon}_{\mathbf k s}}{\sqrt V}
  \right]                                   \\
   & = \sum_{\mathbf k,s}
  \left[ A_{\mathbf{k } s}(t)\frac{e^{i \mathbf{k} \cdot \mathbf{r}}}{\sqrt{V}} - A_{\mathbf{k } s}^*(t)\frac{e^{-i \mathbf{k} \cdot \mathbf{r}}}{\sqrt{V}} \right]
  i\mathbf k \times \boldsymbol{\epsilon}_{\mathbf k s}
\end{align*}
where we have used $\nabla \times (f \mathbf{v}) = (\nabla f) \times \mathbf{v}$ for spatial constant $\mathbf{v}$ such that $\nabla  \times \mathbf{v}=0$.

\subsubsection{Quantum electromagnetic field Hamiltonian.}
A familiar result of electromagnetism is that the classical energy of the electromagnetic ﬁeld in vacuum is given by
\begin{align*}
  H & =  \int d^3 \mathbf{r} \left( \frac{\epsilon_0}{2} \mathbf{E}^2 + \frac{1}{2\mu_0} \mathbf{B}^2 \right)                                                                        \\
  H & =  \int d^3 \mathbf{r} \left( \frac{\epsilon_0}{2} \left( \frac{\partial \mathbf{A}}{\partial t} \right)^2 + \frac{1}{2\mu_0} \left( \nabla \land \mathbf{A} \right)^2 \right)
\end{align*}
To evaluate the Hamiltonian, we evaluate the time derivative and the curl term.
The time derivative is easy enough
\begin{equation*}
  \frac{\partial \mathbf{A}}{\partial t} = \sum_{\mathbf{k},s} \left[ \frac{\dot{A}_{\mathbf{k} s} e^{i \mathbf{k} \cdot \mathbf{r}}}{\sqrt{V}} + \frac{\dot{A}^*_{\mathbf{k} s} e^{-i \mathbf{k} \cdot \mathbf{r}}}{\sqrt{V}} \right] \epsilon_{\mathbf{k} s}
\end{equation*}
To evaluate the curl term use $\nabla \times (f \mathbf{v}) = (\nabla f) \times \mathbf{v}$ again
\begin{align*}
  \nabla \times \mathbf{A} & =  \sum_{\mathbf{k},s} \left[ A_{\mathbf{k}s}(t) \frac{1}{\sqrt{V}} \nabla \times  e^{i\mathbf{k} \cdot \mathbf{r}} + A_{\mathbf{k}s}^*(t) \frac{1}{\sqrt{V}}\nabla \times e^{-i\mathbf{k} \cdot \mathbf{r}} \right] \epsilon_{\mathbf{k}s}                                                          \\
  \nabla \times \mathbf{A} & =  \sum_{\mathbf{k},s} \left[ A_{\mathbf{k} s} \frac{i \mathbf{k} \times \boldsymbol{\epsilon}_{\mathbf{k} s}}{\sqrt{V}} e^{i \mathbf{k} \cdot \mathbf{r}} - A^*_{\mathbf{k} s} \frac{i \mathbf{k} \times \boldsymbol{\epsilon}_{\mathbf{k} s}}{\sqrt{V}} e^{-i \mathbf{k} \cdot \mathbf{r}} \right]
\end{align*}
Another thing to note is the Fourier transform of 3d Dirac delta
\begin{equation*}
  \int_{\mathbb{R}^3} d^3 \mathbf{r} \, e^{i(\mathbf{k}-\mathbf{k}') \cdot \mathbf{r}} = (2\pi)^3 \delta^3(\mathbf{k}-\mathbf{k}')
\end{equation*}
with continuous $\mathbf{k}$.
Discrete $\mathbf{k}=2 \pi/L(n_x, n_y, n_z), n_i \in \mathbb{Z}$ takes place in system is enclosed in a finite box of volume $V=L^3$ turns the integral into
\begin{equation*}
  \int_V d^3 \mathbf{r} \;e^{i(\mathbf{k}-\mathbf{k}') \cdot r} = V \delta_{\mathbf{k},\mathbf{k}'}
\end{equation*}

Now the time derivative term reads
\begin{multline*}
  \left( \frac{\partial \mathbf A}{\partial t} \right)^2
  = \sum_{\mathbf k,s} \sum_{\mathbf k', s'} \bigg[
    \dot A_{\mathbf k s} \dot A_{\mathbf k' s'} \frac{e^{i (\mathbf k + \mathbf k') \cdot \mathbf r}}{V}
    + \dot A_{\mathbf k s} \dot A_{\mathbf k' s'}^* \frac{e^{i (\mathbf k - \mathbf k') \cdot \mathbf r}}{V}\\
    + \dot A_{\mathbf k s}^* \dot A_{\mathbf k' s'} \frac{e^{-i (\mathbf k - \mathbf k') \cdot \mathbf r}}{V}
    + \dot A_{\mathbf k s}^* \dot A_{\mathbf k' s'}^* \frac{e^{-i (\mathbf k + \mathbf k') \cdot \mathbf r}}{V}
    \bigg] (\boldsymbol\epsilon_{\mathbf k s} \cdot \boldsymbol\epsilon_{\mathbf k' s'})
\end{multline*}
Suppose earlier we pick positive value of $\mathbf{k}$.
The term of exponent containing $\mathbf{k} + \mathbf{k}$ vanishes because by the Dirac delta
\begin{equation*}
  \int_V d^3 \mathbf{r} \;e^{i(\mathbf{k}+\mathbf{k}') \cdot r} = V \delta_{\mathbf{k},-\mathbf{k}'}
\end{equation*}
only the term $\mathbf{k}=-\mathbf{k}'$ survive.
As such, the integral evaluate into
\begin{equation*}
  \int d^3 \mathbf{r} \left( \frac{\partial \mathbf{A}}{\partial t} \right)^2  = \sum_{\mathbf{k},s}  \left( \dot{A}_{\mathbf{k} s}^{*} \dot{A}_{\mathbf{k} s} + \dot{A}_{\mathbf{k} s} \dot{A}_{\mathbf{k} s}^{*} \right)
\end{equation*}
Also, the polarization orthogonality gives $\boldsymbol{\epsilon}_{ks} \cdot \boldsymbol{\epsilon}_{\mathbf{k} s'} =\delta_{ss'}$.
Each mode amplitude $A_{\mathbf{k}s}(t)$ behaves exactly like a classical harmonic oscillator due to $\mathbf{A}(\mathbf{r},t)$ obeying the wave equation that yield harmonic oscillator differential equation, whose solution is $A_{\mathbf{k}s}(t)=A_{\mathbf{k}s}(0)e^{i\omega_kt}$.
Thus $\dot{A}_{\mathbf{k}s}=-i\omega_kA_{\mathbf{k}s}$ and
\begin{equation*}
  \frac{\epsilon_0 }{2 }\int d^3 \mathbf{r} \left( \frac{\partial \mathbf{A}}{\partial t} \right)^2
  =\frac{1 }{2} \sum_{\mathbf{k},s}  \omega_k^2 \left( {A}_{\mathbf{k} s}^{*} A_{\mathbf{k} s} + A_{\mathbf{k} s} A_{\mathbf{k} s}^{*} \right)
\end{equation*}

Next the curl term
\begin{multline*}
  (\nabla \times \mathbf A)^2
  = \sum_{\mathbf k,s} \sum_{\mathbf k',s'} \bigg[
    A_{\mathbf k s} A_{\mathbf k' s'} \frac{-(\mathbf k \times \boldsymbol\epsilon_{\mathbf k s}) \cdot (\mathbf k' \times \boldsymbol\epsilon_{\mathbf k' s'})}{V} e^{i (\mathbf k + \mathbf k') \cdot \mathbf r}\\
    + A_{\mathbf k s} A_{\mathbf k' s'}^* \frac{(\mathbf k \times \boldsymbol\epsilon_{\mathbf k s}) \cdot (\mathbf k' \times \boldsymbol\epsilon_{\mathbf k' s'})}{V} e^{i (\mathbf k - \mathbf k') \cdot \mathbf r} \\
    + A_{\mathbf k s}^* A_{\mathbf k' s'} \frac{(\mathbf k \times \boldsymbol\epsilon_{\mathbf k s}) \cdot (\mathbf k' \times \boldsymbol\epsilon_{\mathbf k' s'})}{V} e^{-i (\mathbf k - \mathbf k') \cdot \mathbf r}\\
    + A_{\mathbf k s}^* A_{\mathbf k' s'}^* \frac{-(\mathbf k \times \boldsymbol\epsilon_{\mathbf k s}) \cdot (\mathbf k' \times \boldsymbol\epsilon_{\mathbf k' s'})}{V} e^{-i (\mathbf k + \mathbf k') \cdot \mathbf r}
    \bigg].
\end{multline*}
Pretty long, but that's fine.
The cross term vanishes again I hope\dots
\begin{align*}
  \int d^3 \mathbf{r}  \; (\nabla \times \mathbf A)^2
   & =  \sum_{\mathbf{k},s}  \left( \dot{A}_{\mathbf{k} s}^{*} \dot{A}_{\mathbf{k} s} + \dot{A}_{\mathbf{k} s} \dot{A}_{\mathbf{k} s}^{*} \right) |\mathbf{k }\times \boldsymbol{\epsilon}_{\mathbf{k}s} |^2 \\
   & =  \sum_{\mathbf{k},s} k^2 \left( \dot{A}_{\mathbf{k} s}^{*} \dot{A}_{\mathbf{k} s} + \dot{A}_{\mathbf{k} s} \dot{A}_{\mathbf{k} s}^{*} \right)
\end{align*}
Do note that $\mathbf{f} \times \mathbf{v}=|\mathbf{f}| |\mathbf{v}| \sin \theta$ and that the polarization vector is perpendicular to the wave vector.
Using $\omega_k = ck$ and $c^2=1/\epsilon_0\mu_0$ to write $\epsilon_0\omega_k^2=k^2/\mu_0$, the integral turns
\begin{equation*}
  \frac{1 }{2\mu_0} \int d^3 \mathbf{r}  \; (\nabla \times \mathbf A)^2
  =\frac{1 }{2} \sum_{\mathbf{k},s}  \omega_k^2 \left( {A}_{\mathbf{k} s}^{*} A_{\mathbf{k} s} + A_{\mathbf{k} s} A_{\mathbf{k} s}^{*} \right)
\end{equation*}

Therefore, the  Hamiltonian for both field
\begin{equation*}
  H  = \sum_{\mathbf{k},s}  \omega_k^2 \left( {A}_{\mathbf{k} s}^{*} A_{\mathbf{k} s} + A_{\mathbf{k} s} A_{\mathbf{k} s}^{*} \right)
\end{equation*}
In terms of dimensionless complex coefﬁcients
\begin{equation*}
  A_{\mathbf{k}s}(t)=\sqrt{\frac{\hbar }{2\epsilon_0 \omega_k }} a_{\mathbf{k }s}(t)\quad
  A ^*_{\mathbf{k}s}(t)=\sqrt{\frac{\hbar }{2\epsilon_0 \omega_k }} a_{\mathbf{k }s} ^*(t)
\end{equation*}
we can write
\begin{equation*}
  H = \sum_{\mathbf{k},s} \frac{\hbar \omega_{k}}{2} \left( a_{\mathbf{k} s}^* a_{\mathbf{k} s} + a_{\mathbf{k} s} a_{\mathbf{k} s}^* \right)
\end{equation*}
Instead of using the complex amplitudes, one can introduce the real variables
\begin{equation*}
  q_{ks}(t) = \sqrt{\frac{2\hbar}{\omega_k}}\frac{1}{2} \left[ a_{ks}(t) + a_{ks}^*(t) \right]  \quad
  p_{ks}(t) = \frac{\sqrt{2\hbar \omega_k}  }{2i} \left[ a_{ks}(t) - a_{ks}^*(t) \right]
\end{equation*}
such that
\begin{equation*}
  H = \sum_{\mathbf{ k} s}  \left( \frac{p_{\mathbf{k}s}^{2}}{2} + \frac{1}{2} \omega_{k}^{2} q_{\mathbf{k} s}^{2} \right)
\end{equation*}

\subsubsection{Operator promotion.}
The next step is to promote the complex coefﬁcients into ladder operator satifying $[\hat{a}_{\mathbf{k} s}, \hat{a}_{\mathbf{k}'s'}^\dagger] = \delta_{\mathbf{k},\mathbf{k}'} \delta_{s,s'}$
\begin{equation*}
  a_{\mathbf{k} s} \rightarrow \hat{a}_{\mathbf{k}s} \qquad
  a^*_{\mathbf{k}s} \rightarrow \hat{a}^\dagger_ {\mathbf{k}s}
\end{equation*}
The quantum Hamiltonian is thus given by
\begin{equation*}
  \hat{H} = \sum_{\mathbf{k},s} \frac{\hbar \omega_{k}}{2} \left( \hat{a}_{\mathbf{k} s}^\dagger \hat{a}_{\mathbf{k} s} + \hat{a}_{\mathbf{k} s} \hat{a}_{\mathbf{k} s}^\dagger \right)
\end{equation*}
Using the commutator relation $\hat{a}_{\mathbf{k} s}\hat{a}_{\mathbf{k}s}^\dagger= \hat{a}_{\mathbf{k}s}^\dagger\hat{a}_{\mathbf{k} s} +1 $
\begin{equation*}
  \hat{H} = \sum_{\mathbf{k},s} \frac{\hbar \omega_{k}}{2} \left( 2\hat{a}_{\mathbf{k} s}^\dagger \hat{a}_{\mathbf{k} s} + 1\right)
  = \sum_{\mathbf{k},s} \hbar \omega_{k} \left( \hat{a}_{\mathbf{k} s}^\dagger \hat{a}_{\mathbf{k} s} + \frac{1 }{2}\right)
\end{equation*}
Or, using number operator which counts the number of photons in the single-particle in state $\ket{\mathbf{k }s}$
\begin{equation*}
  \hat{H}= \sum_{\mathbf{k},s} \hbar \omega_{k} \left( \hat{N}_{\mathbf{k} s} + \frac{1 }{2}\right)
\end{equation*}

In 1927 Paul Dirac performed the quantization of the classical Hamiltonian by promoting the real coordinates $q_{\mathbf{k }s}$ and the real momenta $p_{\mathbf{k }s}$ to operators satifying $[\hat{q}_{\mathbf{k} s}, \hat{p}_{\mathbf{k}'s'}^\dagger] =i \hbar  \delta_{\mathbf{k},\mathbf{k}'} \delta_{s,s'}$
\begin{equation*}
  q_{\mathbf{k} s} \rightarrow \hat{q}_{\mathbf{k}s} \qquad
  p^*_{\mathbf{k}s} \rightarrow \hat{p}^\dagger_ {\mathbf{k}s}
\end{equation*}
The Hamiltonian is given by
\begin{equation*}
  \hat{H} = \sum_{\mathbf{ k}, s}  \left( \frac{\hat{p}_{\mathbf{k}s}^{2}}{2} + \frac{1}{2} \omega_{k}^{2} \hat{q}_{\mathbf{k} s}^{2} \right)
\end{equation*}
Annihilation and creation operators can be expressed in terms of these operator
\begin{equation*}
  \hat{a}_{\mathbf{k } s} = \sqrt{\frac{\omega_k}{2\hbar}} \left( \hat{q}_{\mathbf{k } s} + \frac{i}{\omega_k} \hat{p}_{\mathbf{k } s} \right) \quad
  \hat{a}_{\mathbf{k } s} ^\dagger= \sqrt{\frac{\omega_k}{2\hbar}} \left( \hat{q}_{\mathbf{k } s} - \frac{i}{\omega_k} \hat{p}_{\mathbf{k } s} \right)
\end{equation*}

Next we move to the electric field.
Since $\dot{A}_{\mathbf{k}s}=-i\omega_kA_{\mathbf{k}s}$, the electric field now reads
\begin{equation*}
  \mathbf{E}(\mathbf{r}, t) = i\sum_{\mathbf{k},s}\omega_k \left[ {A}_{\mathbf{k}s}(t)\frac{e^{i \mathbf{\mathbf{k}} \cdot \mathbf{r}}}{\sqrt{V}} - {A}_{\mathbf{k}s}^*(t)\frac{e^{-i \mathbf{\mathbf{k}} \cdot \mathbf{r}}}{\sqrt{V}} \right] \epsilon_{\mathbf{k}s}
\end{equation*}
Introduce the dimensionless coefﬁcients
\begin{equation*}
  \mathbf{E}(\mathbf{r}, t) = i \sum_{\mathbf{k},s} \sqrt{\frac{\hbar \omega_k}{2 \epsilon_0 V}} \left[ a_{\mathbf{k } s}(t) e^{i\mathbf{k} \cdot \mathbf{r}} - a_{ks}^*(t) e^{-i\mathbf{k} \cdot \mathbf{r}} \right] \epsilon_{\mathbf{k } s}.
\end{equation*}
Finally promote the coefﬁcients into operators
\begin{equation*}
  \hat{\mathbf{E}}(\mathbf{r}, t) =  i \sum_{\mathbf{k},s} \sqrt{\frac{\hbar \omega_k}{2 \epsilon_0 V}} \left[ \hat{a}_{\mathbf{k}s} e^{i(\mathbf{k} \cdot \mathbf{r} - \omega_k t)} - \hat{a}_{\mathbf{k}s}^{\dagger} e^{-i(\mathbf{k} \cdot \mathbf{r} - \omega_k t)} \right] \epsilon_{\mathbf{k}s}
\end{equation*}
where we expand the ladder operator definition using $\hat{a}_{\mathbf{k }s }(t)=\hat{a}_{\mathbf{k }s}e^{-\omega_kt}$.

For the magnetic field case, we begin by inserting the dimensionless amplitude
\begin{equation*}
  \mathbf{B}(\mathbf{r},t) = \sum_{\mathbf k,s}   \sqrt{\frac{\hbar}{2 \epsilon_0 \omega_k V}}
  \left[ a_{\mathbf{k } s}(t)e^{i \mathbf{k} \cdot \mathbf{r}} - a_{\mathbf{k } s}^*(t)e^{-i \mathbf{k} \cdot \mathbf{r}} \right]   i\mathbf k \times \boldsymbol{\epsilon}_{\mathbf k s}
\end{equation*}
then simply promote them into operator
\begin{equation*}
  \hat{\mathbf{B}}(\mathbf{r}, t) =  \sum_{\mathbf{k},s} \sqrt{\frac{\hbar}{2 \epsilon_0 \omega_k V}} \left[ \hat{a}_{\mathbf{k}s} e^{i(\mathbf{k} \cdot \mathbf{r} - \omega_k t)} - \hat{a}_{\mathbf{k}s}^{\dagger} e^{-i(\mathbf{k} \cdot \mathbf{r} - \omega_k t)} \right] i \mathbf{k} \times \epsilon_{\mathbf{k}s}
\end{equation*}
Still missing some factor of $1/|\mathbf{k}|$ to make $\mathbf{k}\to \hat{\mathbf{k}}$ in the last term.
Forcing it regardless, yields
\begin{equation*}
  \hat{\mathbf{B}}(\mathbf{r}, t) =  \sum_{\mathbf{k},s} \sqrt{\frac{\hbar \omega_k}{2 V} \mu_0} \left[ \hat{a}_{\mathbf{k}s} e^{i(\mathbf{k} \cdot \mathbf{r} - \omega_k t)} - \hat{a}_{\mathbf{k}s}^{\dagger} e^{-i(\mathbf{k} \cdot \mathbf{r} - \omega_k t)} \right] i \mathbf{\hat{k}} \times \epsilon_{\mathbf{k}s}
\end{equation*}
a different constant.
Convention difference perhaps?

\subsection{Fock State}
The operators $\hat{a}_{\mathbf{k }s }$ and $\hat{a }_{\mathbf{k }s}$ act in Fock space $\mathcal{F}$.
A generic state of this Fock space F is given by
\begin{equation*}
  \ket{\left\{ n_{\mathbf{k }s} \right\} }
  = \ket{n_{\mathbf{k} s}n_{\mathbf{k}'s'}n_{\mathbf{k}''s''} \cdots }
  =\bigotimes_{\mathbf{k },s} \ket{n_{\mathbf{k }s}}
\end{equation*}
where there are \( n_{\mathbf{k} s} \) photons with wavevector \( \mathbf{k} \) and polarization \( s \), \( n_{\mathbf{k}'s'} \) photons with wavevector \( \mathbf{k}' \) and polarization \( s' \), \( n_{\mathbf{k}''s''} \) photons with wavevector \( \mathbf{k}'' \) and polarization \( s'' \), et cetera.
For example, the state $\ket{ 0_{\mathbf{k} s} 1_{\mathbf{k}'s'}  2_{\mathbf{k}''s''}}$.
Here, the entire mode $\mathbf{k},s$ is in vacuum or no photon exist; mode $\mathbf{k'},s'$ has one photon; and mode $\mathbf{k}'',s''$ has two.

The Fock space \( \mathcal{F} \) is given by
\begin{equation*}
  \mathcal{F} = \mathcal{H}_0 \oplus \mathcal{H}_1 \oplus \mathcal{H}_2 \oplus \mathcal{H}_3 \oplus \cdots = \bigoplus_{n=0}^{\infty} \mathcal{H}_n = \mathcal{F} = \bigoplus_{n=0}^{\infty} \mathcal{H}^{\otimes n}
\end{equation*}
where $  \mathcal{H}_n = \mathcal{H} \otimes \mathcal{H} \otimes \cdots \otimes \mathcal{H} = \mathcal{H}^{\otimes n}$ is the Hilbert space of $n$ identical photons, which is $n$ times the tensor product of the single-photon Hilbert space $\mathcal{H}$
Notice that in the definition of the Fock space $\mathcal{F}$ one must include the space $\mathcal{H}_0 = \mathcal{H}^{\otimes 0}$, which is the Hilbert space of 0 photons, containing only the vacuum state
\[
  \ket{0}
  = \ket{0_{\mathbf{k} s}0_{\mathbf{k}'s'}\cdots }
  =\bigotimes_{\mathbf{k },s} \ket{0_{\mathbf{k }s}}
\]

\subsubsection{Ladder operator.}
If there are exactly $n$ photons in this polarized monochromatic wave $\omega=\omega_k=c|\mathbf{k}|$ the Fock state of the system is given by
\begin{equation*}
  \ket{n }= \frac{1 }{\sqrt{n !}}\left( \hat{a }^\dagger \right) ^n \ket{0}
\end{equation*}
This can be generalized into
\begin{equation*}
  \ket{n_{\mathbf{k }s} }= \frac{1 }{\sqrt{n_{\mathbf{k }s}!}}\left( \hat{a }^\dagger_{\mathbf{k }s} \right) ^{n_{\mathbf{k }s}} \ket{0}
\end{equation*}
or for multimode
\begin{equation*}
  \ket{\left\{ n_{\mathbf{k }s}  \right\} }
  =\prod_{\mathbf{k },s} \frac{1 }{\sqrt{n_{\mathbf{k }s}!}}\left( \hat{a }^\dagger_{\mathbf{k }s} \right) ^{n_{\mathbf{k }s}} \ket{0}
\end{equation*}

To prove this, we define unnormalized state
\begin{equation*}
  \ket{n'_{\mathbf{k }s}}=\hat{a}^\dagger_{\mathbf{k }s} \ket{0}
\end{equation*}
and use the relations
\begin{gather*}
  \hat{a}_{\mathbf{k }s} (\hat{a}^\dagger_{\mathbf{k }s} )^n
  = (\hat{a}^\dagger_{\mathbf{k }s} )^n a +n (\hat{a}^\dagger_{\mathbf{k }s} )^{n-1} \\
  \hat{a}_{\mathbf{k }s} ^n(\hat{a}^\dagger_{\mathbf{k }s}) ^n \ket{0}= n! \ket{0}
\end{gather*}

First let us use induction to prove said relation.
With both being the induction hypothesis, our base case $n$ is the commutator relation
\begin{equation*}
  \hat{a}_{\mathbf{k }s} \hat{a}^\dagger_{\mathbf{k }s} =\hat{a}^\dagger_{\mathbf{k }s} \hat{a}_{\mathbf{k }s} +1
\end{equation*}
We prove for $n+1$ by considering
\begin{align*}
  \hat{a}_{\mathbf{k }s} (\hat{a}^\dagger_{\mathbf{k }s} )^{n_{\mathbf{k }s}+1}
                                                                 &
  = \hat{a}_{\mathbf{k }s} (\hat{a}^\dagger_{\mathbf{k }s} )^{n_{\mathbf{k }s}} \hat{a}^\dagger_{\mathbf{k }s}
  =[(\hat{a}^\dagger_{\mathbf{k }s} )^{n_{\mathbf{k }s}} a +{n_{\mathbf{k }s}} (\hat{a}^\dagger_{\mathbf{k }s} )^{{n_{\mathbf{k }s}}-1}]\hat{a}^\dagger_{\mathbf{k }s}                                                    \\
                                                                 &
  = (\hat{a}^\dagger_{\mathbf{k }s} )^{n_{\mathbf{k }s}} \hat{a}_{\mathbf{k }s} \hat{a}^\dagger_{\mathbf{k }s}+ {n_{\mathbf{k }s}} (\hat{a}^\dagger_{\mathbf{k }s} )^{{n_{\mathbf{k }s}}-1}\hat{a}^\dagger_{\mathbf{k }s} \\
                                                                 &
  =  (\hat{a}^\dagger_{\mathbf{k }s} )^{n_{\mathbf{k }s}} (\hat{a}^\dagger_{\mathbf{k }s}  \hat{a}_{\mathbf{k }s} +1)+{n_{\mathbf{k }s}} (\hat{a}^\dagger_{\mathbf{k }s} )^{n_{\mathbf{k }s}}                             \\
  \hat{a}_{\mathbf{k }s} (\hat{a}^\dagger_{\mathbf{k }s} )^{n+1} & =
  (\hat{a}^\dagger_{\mathbf{k }s} )^{{n_{\mathbf{k }s}}+1}\hat{a}_{\mathbf{k }s} + ({n_{\mathbf{k }s}}+1)(\hat{a}^\dagger_{\mathbf{k }s} )^{n_{\mathbf{k }s}}
\end{align*}
which is our hypothesis for ${n_{\mathbf{k }s}} \to {n_{\mathbf{k }s}}+1$.
The action of this relation is as follows
\begin{equation*}
  \hat{a}_{\mathbf{k }s} (\hat{a}^\dagger_{\mathbf{k }s} )^{n_{\mathbf{k }s}} \ket{0}
  =(\hat{a}^\dagger_{\mathbf{k }s} )^{n_{\mathbf{k }s}} a +{n_{\mathbf{k }s}} (\hat{a}^\dagger_{\mathbf{k }s} )^{{n_{\mathbf{k }s}}-1}   \ket{0}= {n_{\mathbf{k }s}} (\hat{a}^\dagger_{\mathbf{k }s} )^{{n_{\mathbf{k }s}}-1}\ket{0}
\end{equation*}
Next we use this relation, which has been proven, to prove the second relation.
Using induction again, we consider base case $n$ as
\begin{equation*}
  (\hat{a}_{\mathbf{k }s} )^0 (\hat{a}^\dagger_{\mathbf{k }s} )^0 = \ket{0}=0!\ket{0}
\end{equation*}
It holds, then for $n+1$ consider
\begin{equation*}
  \hat{a}_{\mathbf{k }s} (\hat{a}^\dagger_{\mathbf{k }s} )^{{n_{\mathbf{k }s}}+1} \ket{0}
  = ({n_{\mathbf{k }s}}+1) (\hat{a}^\dagger_{\mathbf{k }s} )^{{n_{\mathbf{k }s}}}\ket{0}
\end{equation*}
then apply $\hat{a}_{\mathbf{k }s} ^{n_{\mathbf{k }s}}$ along with the second hypothesis
\begin{align*}
  (\hat{a}_{\mathbf{k }s})^{{n_{\mathbf{k }s}}+1} (\hat{a}^\dagger_{\mathbf{k }s} )^{{n_{\mathbf{k }s}}+1} \ket{0}
   & =  ({n_{\mathbf{k }s}}+1) (\hat{a}_{\mathbf{k }s} )^{n_{\mathbf{k }s}}(\hat{a}^\dagger_{\mathbf{k }s} )^{{n_{\mathbf{k }s}}}\ket{0} \\
   & = ({n_{\mathbf{k }s}}+1){n_{\mathbf{k }s}}! \ket{0}=({n_{\mathbf{k }s}}+1)\ket{0}
\end{align*}
It holds once more.
We now back at normalizing the state $\ket{{n_{\mathbf{k }s}}'}$ by taking the inner product and inserting the normalizing constant
\begin{equation*}
  \alpha^2\braket{{n_{\mathbf{k }s}}' | {n_{\mathbf{k }s}}'}=\alpha \braket{0 | \hat{a}_{\mathbf{k }s} ^{n_{\mathbf{k }s}} (\hat{a}^\dagger_{\mathbf{k }s} )^{n_{\mathbf{k }s}}|0}={n_{\mathbf{k }s}}!\\
  \alpha=\frac{1 }{\sqrt{{n_{\mathbf{k }s}}!}}
\end{equation*}
Thus the normalized state
\begin{equation*}
  \ket{{n_{\mathbf{k }s}}}=\alpha \ket{{n_{\mathbf{k }s}}'}= \frac{1 }{\sqrt{{n_{\mathbf{k }s}}! }}(\hat{a}^\dagger_{\mathbf{k }s}   )^{n_{\mathbf{k }s}} \ket{0}
\end{equation*}

For the multimode state, we can insert a product over $\mathbf{k },s$.
This follows from each mode contributes its own independent ladder algebra and total state is obtained by applying all independent excitations.
This meant that excitation of mode $(\mathbf{k},s)$ is unaffected by excitation of a distinct mode $(\mathbf{k}',s')$

\subsubsection{Coherent state.}
By using the number operator, one obtain
\begin{equation*}
  \hat{N}_{\mathbf{k }s} | \cdots n_{\mathbf{k }s} \cdots \rangle = n_{\mathbf{k }s}  | \cdots n_{\mathbf{k }s}  \cdots \rangle
\end{equation*}
Viewed in this light, the Fock state is the eigenstate of number operator and has a definite photon number, read: eigenvalue.

Despite this, the Fock state has no coherent phase and thus unable to properly interference.
This result can be seen by considering the expectation value of electromagnetic field.
Notice that
\begin{equation*}
  \hat{\mathbf{E}} \propto \sum_{\mathbf{k}s} \left( \hat{a}_{\mathbf{k }s} -\hat{a}^\dagger_{\mathbf{k }s}  \right) \quad
  \hat{\mathbf{B}} \propto \sum_{\mathbf{k}s} \left( \hat{a}_{\mathbf{k }s} -\hat{a}^\dagger_{\mathbf{k }s}  \right)
\end{equation*}
However
\begin{align*}
  \braket{n_{\mathbf{k }s}  | \hat{a}_{\mathbf{k }s} |n_{\mathbf{k }s} }          & =   \sqrt{n_{\mathbf{k }s}} \braket{n_{\mathbf{k }s}  | n_{\mathbf{k }s} -1} =0     \\
  \braket{n_{\mathbf{k }s}  | \hat{a}^\dagger_{\mathbf{k }s}  |n_{\mathbf{k }s} } & =   \sqrt{n_{\mathbf{k }s}+1} \braket{n_{\mathbf{k }s}  | n_{\mathbf{k }s} + 1} = 0
\end{align*}
Thus
\begin{equation*}
  \braket{n_{\mathbf{k }s}  | \hat{\mathbf{E }}|n_{\mathbf{k }s} }=0\qquad
  \braket{n_{\mathbf{k }s}  | \hat{\mathbf{B }}|n_{\mathbf{k }s} }=0
\end{equation*}
The vanishing result does not mean the field is absent, it means that the average electromagnetic field amplitude is zero and field fluctuates symmetrically about zero.
The vanishing result thus can be seen as a consequence of undefined phase of Fock space.

The square of the field is different case, however.
With the fields written as
\begin{align*}
  \hat{\mathbf{E}}^2 & \propto \sum_{\mathbf{k}s}\sum_{\mathbf{k}'s'} \left( -\hat{a}_{\mathbf{k }s}\hat{a}_{\mathbf{k }'s'} +\hat{a}_{\mathbf{k }s} \hat{a}^\dagger_{\mathbf{k }'s'} +\hat{a}^\dagger_{\mathbf{k }s} \hat{a}_{\mathbf{k }'s'}  -\hat{a}^\dagger_{\mathbf{k }s} \hat{a}^\dagger_{\mathbf{k }'s'}  \right) \\
  \hat{\mathbf{B}}^2 & \propto \sum_{\mathbf{k}s}\sum_{\mathbf{k}'s'} \left( -\hat{a}_{\mathbf{k }s}\hat{a}_{\mathbf{k }'s'} +\hat{a}_{\mathbf{k }s} \hat{a}^\dagger_{\mathbf{k }'s'} +\hat{a}^\dagger_{\mathbf{k }s} \hat{a}_{\mathbf{k }'s'}  -\hat{a}^\dagger_{\mathbf{k }s} \hat{a}^\dagger_{\mathbf{k }'s'}  \right) \\
\end{align*}
where we have inserted the factor $i$.
Along with
\begin{gather*}
  \braket{\hat{a}_{\mathbf{k }s}   \hat{a}_{\mathbf{k }s} }=0                        \quad
  \braket{\hat{a}_{\mathbf{k }s}   \hat{a}^\dagger_{\mathbf{k }s} }=n_{\mathbf{k }s}+1 \\
  \braket{\hat{a}^\dagger_{\mathbf{k }s}   \hat{a}_{\mathbf{k }s} }=n_{\mathbf{k }s} \quad
  \braket{\hat{a}^\dagger_{\mathbf{k }s}   \hat{a}^\dagger_{\mathbf{k }s} }=0
\end{gather*}
the expectation value now can be evaluated as
\begin{equation*}
  \braket{n_{\mathbf{k }s}  | \hat{\mathbf{E }}^2|n_{\mathbf{k }s} }\propto2 n_{\mathbf{k }s}+1
  \qquad
  \braket{n_{\mathbf{k }s}  | \hat{\mathbf{B }}^2|n_{\mathbf{k }s} }\propto2 n_{\mathbf{k }s}+1
\end{equation*}
or with all terms inserted
\begin{equation*}
  \braket{n_{\mathbf{k }s}  | \hat{\mathbf{E }}^2|n_{\mathbf{k }s} }= \frac{\hbar \omega_k }{\epsilon_0 V}\left( n_{\mathbf{k }s}+\frac{1 }{2} \right)
  \quad
  \braket{n_{\mathbf{k }s}  | \hat{\mathbf{B }}^2|n_{\mathbf{k }s} }= \frac{\hbar \omega_k \mu_0}{V}\left( n_{\mathbf{k }s}+\frac{1 }{2} \right)
\end{equation*}
We can insert this into classical Hamiltonian
\begin{align*}
  H & =   \int d^3 \mathbf{r} \left( \frac{\epsilon_0}{2} \mathbf{E}^2 + \frac{1}{2\mu_0} \mathbf{B}^2 \right)         \\
    & = \int d^3 \mathbf{r } \left[ \frac{\hbar  \omega_k }{2V }\left( n_{\mathbf{k }s}+\frac{1 }{2 } \right)  \right] \\
  H & = \hbar \omega_k \left( n_{\mathbf{k }s}+\frac{1 }{2} \right)
\end{align*}
This result match the quantum Hamiltonian
\begin{equation*}
  \braket{n_{\mathbf{k }s} |H|n_{\mathbf{k }s} }
  =
  \braket{n_{\mathbf{k }s} | \sum_{\mathbf{k}s} \hbar \omega_k \left( \hat{N }_{\mathbf{k} s }+ \frac{1 }{2} \right)|n_{\mathbf{k }s} }
  = \hbar \omega_k \left( n_{\mathbf{k }s}+\frac{1 }{2} \right)
\end{equation*}
This mean that the field have definite energy despite not having definite phase.
The fact that the energy is definite despite the field fluctuates is because both energy and phase are conjugate variables in the quantum.
This field fluctuation reflects uncertainty in phase.

\subsection{Ladder Operator}
The operators $\hat{a}_{\mathbf{k }s}$ and $\hat{a}^\dagger_{\mathbf{k }s}$ are called annihilation and creation operators because they respectively destroy and create one photon with wavevector $\mathbf{k}$ and polarization $s$, namely
\begin{align*}
  \hat{a}_{\mathbf{k }s} | \cdots n_{\mathbf{k }s} \cdots \rangle         & = \sqrt{n_{\mathbf{k }s}} |  \cdots n_{\mathbf{k }s} - 1 \cdots \rangle    \\
  \hat{a}^\dagger_{\mathbf{k }s} | \cdots n_{\mathbf{k }s} \cdots \rangle & = \sqrt{n_{\mathbf{k }s} + 1} |\cdots  n_{\mathbf{k }s} + 1 \cdots \rangle
\end{align*}
Consequently, for the vacuum state $|0\rangle$ one define
\begin{align*}
  \hat{a}_{\mathbf{k }s} | 0 \rangle   & = 0_F                                                 \\
  \hat{a}^+_{\mathbf{k }s} | 0 \rangle & = | 1_{\mathbf{k }s} \rangle = | \mathbf{k} s \rangle
\end{align*}
where $0_F$ is the zero of the Fock space (usually indicated with $0$), and $| k s \rangle$ is clearly the state of one photon with wavevector $k$ and polarization $s$, such that
\begin{equation*}
  \langle \mathbf{r} | \mathbf{k} s \rangle = \frac{e^{i \mathbf{k} \cdot \mathbf{r}}}{\sqrt{V} \epsilon_{\mathbf{k }s}}
\end{equation*}

It follows immediately that the number operator
\begin{equation*}
  \hat{N }_{\mathbf{k }s } = \hat{a } ^\dagger_{\mathbf{k }s }\hat{a }_{\mathbf{k }s}
\end{equation*}
have the action of
\begin{equation*}
  \hat{N}_{\mathbf{k }s} | \cdots n_{\mathbf{k }s} \cdots \rangle = n_{\mathbf{k }s}  | \cdots n_{\mathbf{k }s}  \cdots \rangle
\end{equation*}
The follow-up is as follows
\begin{align*}
  \hat{a}^\dagger_{\mathbf{k }s} \hat{a}_{\mathbf{k }s} | \cdots n_{ks} \cdots \rangle
   & =  \hat{a }^\dagger_{\mathbf{k }s}\sqrt{n_{ks}} | \cdots (n_{ks} - 1) \cdots \rangle \\
  \hat{N }_{\mathbf{k }s}| \cdots n_{ks} \cdots \rangle
   & =  n_{ks} | \cdots n_{ks} \cdots \rangle
\end{align*}


\end{document}